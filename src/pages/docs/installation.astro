---
import BaseLayout from '../../layouts/BaseLayout.astro';
import CodeBlock from '../../components/docs/CodeBlock.astro';
---

<BaseLayout
  title="Installation"
  description="Install gemmology.dev packages via pip for crystal visualization."
>
  <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 py-12">
    <!-- Breadcrumb -->
    <nav class="mb-8">
      <ol class="flex items-center gap-2 text-sm text-slate-500">
        <li><a href="/docs" class="hover:text-crystal-600">Docs</a></li>
        <li>/</li>
        <li class="text-slate-900 font-medium">Installation</li>
      </ol>
    </nav>

    <article class="prose prose-slate max-w-none">
      <h1>Installation</h1>

      <p class="lead text-xl text-slate-600">
        The gemmology.dev ecosystem consists of four Python packages that work together
        to parse, compute, and render crystal structures.
      </p>

      <h2>Requirements</h2>

      <ul>
        <li>Python 3.10 or higher</li>
        <li>pip (Python package manager)</li>
      </ul>

      <h2>Quick Install</h2>

      <p>Install all packages at once:</p>

      <CodeBlock lang="bash" code={`pip install cdl-parser crystal-geometry mineral-database crystal-renderer`} />

      <h2>Virtual Environment (Recommended)</h2>

      <p>We recommend using a virtual environment to avoid dependency conflicts:</p>

      <CodeBlock lang="bash" code={`# Create a virtual environment
python -m venv venv

# Activate it (Linux/macOS)
source venv/bin/activate

# Activate it (Windows)
venv\\Scripts\\activate

# Install packages
pip install cdl-parser crystal-geometry mineral-database crystal-renderer`} />

      <h2>Individual Packages</h2>

      <p>You can also install packages individually, depending on your needs:</p>

      <table>
        <thead>
          <tr>
            <th>Package</th>
            <th>Purpose</th>
            <th>Install Command</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>cdl-parser</code></td>
            <td>Parse CDL expressions</td>
            <td><code>pip install cdl-parser</code></td>
          </tr>
          <tr>
            <td><code>crystal-geometry</code></td>
            <td>Generate 3D geometry</td>
            <td><code>pip install crystal-geometry</code></td>
          </tr>
          <tr>
            <td><code>mineral-database</code></td>
            <td>Access mineral presets</td>
            <td><code>pip install mineral-database</code></td>
          </tr>
          <tr>
            <td><code>crystal-renderer</code></td>
            <td>Render to SVG/STL/glTF</td>
            <td><code>pip install crystal-renderer</code></td>
          </tr>
        </tbody>
      </table>

      <h2>Development Installation</h2>

      <p>For contributing or modifying the source code, clone the repositories and install in editable mode:</p>

      <CodeBlock lang="bash" code={`# Clone the repository
git clone https://github.com/gemmology-dev/cdl-parser.git
cd cdl-parser

# Install in development mode with dev dependencies
pip install -e ".[dev]"

# Run tests
pytest`} />

      <h2>Verify Installation</h2>

      <p>Verify that everything is installed correctly:</p>

      <CodeBlock lang="bash" code={`python -c "from cdl_parser import parse_cdl; print(parse_cdl('cubic[m3m]:{111}'))"`} />

      <p>You should see a <code>CrystalDescription</code> object printed to the console.</p>

      <h2>Optional Dependencies</h2>

      <p>Some features require additional dependencies:</p>

      <table>
        <thead>
          <tr>
            <th>Feature</th>
            <th>Dependency</th>
            <th>Install Command</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>STL export</td>
            <td>numpy-stl</td>
            <td><code>pip install numpy-stl</code></td>
          </tr>
          <tr>
            <td>glTF export</td>
            <td>pygltflib</td>
            <td><code>pip install pygltflib</code></td>
          </tr>
        </tbody>
      </table>

      <div class="mt-12 flex gap-4">
        <a href="/docs/quickstart" class="inline-flex items-center gap-2 px-4 py-2 bg-crystal-600 text-white rounded-lg hover:bg-crystal-700 transition-colors">
          Next: Quick Start
          <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
          </svg>
        </a>
      </div>
    </article>
  </div>
</BaseLayout>
