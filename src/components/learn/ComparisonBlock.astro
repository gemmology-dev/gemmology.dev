---
/**
 * ComparisonBlock - Displays side-by-side comparisons
 * Updated to use Astro UI Card component
 */
import Card from '../ui-astro/Card.astro';

interface ComparisonItem {
  title: string;
  points: string[];
  variant?: 'default' | 'success' | 'warning' | 'danger';
}

interface Props {
  items: ComparisonItem[];
}

const { items } = Astro.props;

const variantClasses = {
  default: 'bg-slate-50 border-slate-200',
  success: 'bg-emerald-50 border-emerald-200',
  warning: 'bg-amber-50 border-amber-200',
  danger: 'bg-red-50 border-red-200',
};

const titleClasses = {
  default: 'text-slate-900',
  success: 'text-emerald-900',
  warning: 'text-amber-900',
  danger: 'text-red-900',
};

const textClasses = {
  default: 'text-slate-600',
  success: 'text-emerald-800',
  warning: 'text-amber-800',
  danger: 'text-red-800',
};

const gridCols = items.length === 2
  ? 'sm:grid-cols-2'
  : items.length === 3
    ? 'sm:grid-cols-3'
    : 'sm:grid-cols-2 lg:grid-cols-4';
---

<div class={`grid gap-6 my-8 ${gridCols}`}>
  {items.map(item => {
    const variant = item.variant || 'default';
    return (
      <Card padding="md" class={variantClasses[variant]}>
        <h4 class={`font-semibold ${titleClasses[variant]}`}>{item.title}</h4>
        <ul class={`mt-3 text-sm ${textClasses[variant]}`}>
          {item.points.map((point, i) => (
            <li class={`py-2 ${i < item.points.length - 1 ? 'border-b border-current/10' : ''}`}>
              {point}
            </li>
          ))}
        </ul>
      </Card>
    );
  })}
</div>
