---
interface Item {
  name: string;
  value?: string;
  description?: string;
  examples?: string[];
  icon?: string;
}

interface Props {
  items: Item[];
}

const { items } = Astro.props;

// Detect if value looks like CDL notation
const isCDL = (value: string) => /^\w+\[\w+\]:\{/.test(value);
---

<div class="grid gap-4 md:grid-cols-2 my-6">
  {items.map(item => (
    <div class="bg-slate-50 dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700">
      <div class="flex items-start justify-between">
        <h4 class="font-semibold text-slate-900 dark:text-slate-100">{item.name}</h4>
        {item.value && !isCDL(item.value) && (
          <span class="text-sm font-mono bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 px-2 py-0.5 rounded">
            {item.value}
          </span>
        )}
      </div>

      {item.description && (
        <p class="text-sm text-slate-600 dark:text-slate-400 mt-1">{item.description}</p>
      )}

      {item.value && isCDL(item.value) && (
        <code class="block text-xs bg-slate-900 text-green-400 p-2 rounded mt-2 font-mono overflow-x-auto">
          {item.value}
        </code>
      )}

      {item.examples && item.examples.length > 0 && (
        <div class="flex flex-wrap gap-1 mt-2">
          {item.examples.map(ex => (
            <span class="text-xs bg-crystal-100 dark:bg-crystal-900 text-crystal-700 dark:text-crystal-300 px-2 py-0.5 rounded">
              {ex}
            </span>
          ))}
        </div>
      )}
    </div>
  ))}
</div>
