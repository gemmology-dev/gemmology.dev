---
interface Props {
  cdl: string;
  caption?: string;
  interactive?: boolean;
}

const { cdl, caption, interactive = true } = Astro.props;

// For now, link to the playground. In the future, this could embed a 3D viewer.
const playgroundUrl = `/playground?cdl=${encodeURIComponent(cdl)}`;
---

<figure class="my-8">
  <div class="bg-slate-100 dark:bg-slate-800 rounded-lg p-6 flex flex-col items-center justify-center min-h-[200px]">
    <div class="text-center">
      <code class="block text-sm font-mono text-slate-600 dark:text-slate-300 mb-4">{cdl}</code>
      <a
        href={playgroundUrl}
        class="inline-flex items-center gap-2 px-4 py-2 bg-crystal-600 text-white rounded-lg hover:bg-crystal-700 transition-colors text-sm font-medium"
      >
        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        View in Playground
      </a>
    </div>
  </div>
  {caption && (
    <figcaption class="text-center text-sm text-slate-500 dark:text-slate-400 mt-2">
      {caption}
    </figcaption>
  )}
</figure>
